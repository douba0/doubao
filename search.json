[{"title":"hexo搭建和安装相关组件","url":"/hexo/hexo-use-next-setup-blog/","content":"<h2 id=\"初始化博客目录\"><a href=\"#初始化博客目录\" class=\"headerlink\" title=\"初始化博客目录\"></a>初始化博客目录</h2><p><code>例如：D:\\hexoblog\\docblog</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">[D:\\hexoblog\\docblog]$ hexo init</span><br><span class=\"line\">INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git</span><br><span class=\"line\">INFO  Install dependencies</span><br><span class=\"line\">npm WARN config global `--global`, `--<span class=\"built_in\">local</span>` are deprecated. Use `--location=global` instead.</span><br><span class=\"line\">INFO  Start blogging with Hexo</span><br></pre></td></tr></table></figure>\n\n<p><code>目录信息</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├── _config.yml <span class=\"comment\">#Hexo的配置文件</span></span><br><span class=\"line\">├── db.json <span class=\"comment\">#Hexo自动生成的文件</span></span><br><span class=\"line\">├── package.json <span class=\"comment\">#插件配置文件，下同</span></span><br><span class=\"line\">├── package-lock.json </span><br><span class=\"line\">├── node_modules <span class=\"comment\">#生成网站需要用到的Node.js模块</span></span><br><span class=\"line\">├── scaffolds <span class=\"comment\">#存放模板的文件夹</span></span><br><span class=\"line\">├── <span class=\"built_in\">source</span> <span class=\"comment\">#博客Markdown源文件夹</span></span><br><span class=\"line\">├── public <span class=\"comment\">#存放生成的静态HTML文件</span></span><br><span class=\"line\">└── themes <span class=\"comment\">#主题文件夹</span></span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<p><code>环境的各个信息</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">[D:\\hexoblog\\docblog]$ hexo -v</span><br><span class=\"line\">INFO  Validating config</span><br><span class=\"line\">hexo: 6.2.0</span><br><span class=\"line\">hexo-cli: 4.3.0</span><br><span class=\"line\">os: win32 10.0.22000 </span><br><span class=\"line\">node: 16.15.1</span><br><span class=\"line\">v8: 9.4.146.24-node.21</span><br><span class=\"line\">uv: 1.43.0</span><br><span class=\"line\">zlib: 1.2.11</span><br><span class=\"line\">brotli: 1.0.9</span><br><span class=\"line\">ares: 1.18.1</span><br><span class=\"line\">modules: 93</span><br><span class=\"line\">nghttp2: 1.47.0</span><br><span class=\"line\">napi: 8</span><br><span class=\"line\">llhttp: 6.0.4</span><br><span class=\"line\">openssl: 1.1.1o+quic</span><br><span class=\"line\">cldr: 40.0</span><br><span class=\"line\">icu: 70.1</span><br><span class=\"line\">tz: 2021a3</span><br><span class=\"line\">unicode: 14.0</span><br><span class=\"line\">ngtcp2: 0.1.0-DEV</span><br><span class=\"line\">nghttp3: 0.1.0-DEV</span><br><span class=\"line\"></span><br><span class=\"line\">[D:\\hexoblog\\docblog]$ npm -v</span><br><span class=\"line\">npm WARN config global `--global`, `--<span class=\"built_in\">local</span>` are deprecated. Use `--location=global` instead.</span><br><span class=\"line\">8.17.0</span><br><span class=\"line\"></span><br><span class=\"line\">[D:\\hexoblog\\docblog]$ node -v</span><br><span class=\"line\">v16.15.1</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"安装所需插件\"><a href=\"#安装所需插件\" class=\"headerlink\" title=\"安装所需插件\"></a>安装所需插件</h2><h3 id=\"安装Next主题\"><a href=\"#安装Next主题\" class=\"headerlink\" title=\"安装Next主题\"></a>安装Next主题</h3><figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">[D:\\hexoblog\\docblog]$ git <span class=\"built_in\">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class=\"line\">Cloning into <span class=\"string\">&#x27;themes/next&#x27;</span>...</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装字数统计和阅读时长\"><a href=\"#安装字数统计和阅读时长\" class=\"headerlink\" title=\"安装字数统计和阅读时长\"></a>安装字数统计和阅读时长</h3><figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">[D:\\hexoblog\\docblog]$ npm install hexo-symbols-count-time --save</span><br><span class=\"line\">npm WARN config global `--global`, `--<span class=\"built_in\">local</span>` are deprecated. Use `--location=global` instead.</span><br><span class=\"line\">npm WARN deprecated highlight.js@9.18.5: Support has ended <span class=\"keyword\">for</span> 9.x series. Upgrade to @latest</span><br><span class=\"line\"></span><br><span class=\"line\">added 8 packages, and audited 249 packages <span class=\"keyword\">in</span> 25s</span><br><span class=\"line\"></span><br><span class=\"line\">20 packages are looking <span class=\"keyword\">for</span> funding</span><br><span class=\"line\">  run `npm fund` <span class=\"keyword\">for</span> details</span><br><span class=\"line\"></span><br><span class=\"line\">3 moderate severity vulnerabilities</span><br><span class=\"line\"></span><br><span class=\"line\">To address all issues, run:</span><br><span class=\"line\">  npm audit fix</span><br><span class=\"line\"></span><br><span class=\"line\">Run `npm audit` <span class=\"keyword\">for</span> details.</span><br><span class=\"line\"></span><br><span class=\"line\">[D:\\hexoblog\\docblog]$ npm install eslint --save</span><br><span class=\"line\">npm WARN config global `--global`, `--<span class=\"built_in\">local</span>` are deprecated. Use `--location=global` instead.</span><br><span class=\"line\"></span><br><span class=\"line\">added 71 packages, and audited 320 packages <span class=\"keyword\">in</span> 1m</span><br><span class=\"line\"></span><br><span class=\"line\">40 packages are looking <span class=\"keyword\">for</span> funding</span><br><span class=\"line\">  run `npm fund` <span class=\"keyword\">for</span> details</span><br><span class=\"line\"></span><br><span class=\"line\">3 moderate severity vulnerabilities</span><br><span class=\"line\"></span><br><span class=\"line\">To address all issues (including breaking changes), run:</span><br><span class=\"line\">  npm audit fix --force</span><br><span class=\"line\"></span><br><span class=\"line\">Run `npm audit` <span class=\"keyword\">for</span> details.</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装git远程部署\"><a href=\"#安装git远程部署\" class=\"headerlink\" title=\"安装git远程部署\"></a>安装git远程部署</h3><figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">[D:\\hexoblog\\docblog]$  npm install hexo-deployer-git --save</span><br><span class=\"line\">npm WARN config global `--global`, `--<span class=\"built_in\">local</span>` are deprecated. Use `--location=global` instead.</span><br><span class=\"line\"></span><br><span class=\"line\">added 1 package, and audited 321 packages <span class=\"keyword\">in</span> 3s</span><br><span class=\"line\"></span><br><span class=\"line\">40 packages are looking <span class=\"keyword\">for</span> funding</span><br><span class=\"line\">  run `npm fund` <span class=\"keyword\">for</span> details</span><br><span class=\"line\"></span><br><span class=\"line\">3 moderate severity vulnerabilities</span><br><span class=\"line\"></span><br><span class=\"line\">To address all issues (including breaking changes), run:</span><br><span class=\"line\">  npm audit fix --force</span><br><span class=\"line\"></span><br><span class=\"line\">Run `npm audit` <span class=\"keyword\">for</span> details.</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加搜索\"><a href=\"#添加搜索\" class=\"headerlink\" title=\"添加搜索\"></a>添加搜索</h3><figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">[D:\\hexoblog\\docblog]$ npm install hexo-generator-searchdb --save</span><br><span class=\"line\">npm WARN config global `--global`, `--<span class=\"built_in\">local</span>` are deprecated. Use `--location=global` instead.</span><br><span class=\"line\"></span><br><span class=\"line\">added 1 package, and audited 322 packages <span class=\"keyword\">in</span> 3s</span><br><span class=\"line\"></span><br><span class=\"line\">40 packages are looking <span class=\"keyword\">for</span> funding</span><br><span class=\"line\">  run `npm fund` <span class=\"keyword\">for</span> details</span><br><span class=\"line\"></span><br><span class=\"line\">3 moderate severity vulnerabilities</span><br><span class=\"line\"></span><br><span class=\"line\">To address all issues (including breaking changes), run:</span><br><span class=\"line\">  npm audit fix --force</span><br><span class=\"line\"></span><br><span class=\"line\">Run `npm audit` <span class=\"keyword\">for</span> details.</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加图片\"><a href=\"#添加图片\" class=\"headerlink\" title=\"添加图片\"></a>添加图片</h3><figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">[D:\\hexoblog\\docblog]$ npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br><span class=\"line\"></span><br><span class=\"line\">added 21 packages, and audited 338 packages <span class=\"keyword\">in</span> 15s</span><br><span class=\"line\"></span><br><span class=\"line\">50 packages are looking <span class=\"keyword\">for</span> funding</span><br><span class=\"line\">  run `npm fund` <span class=\"keyword\">for</span> details</span><br><span class=\"line\"></span><br><span class=\"line\">9 vulnerabilities (3 moderate, 5 high, 1 critical)</span><br><span class=\"line\"></span><br><span class=\"line\">To address all issues possible (including breaking changes), run:</span><br><span class=\"line\">  npm audit fix --force</span><br><span class=\"line\"></span><br><span class=\"line\">Some issues need review, and may require choosing</span><br><span class=\"line\">a different dependency.</span><br><span class=\"line\"></span><br><span class=\"line\">Run `npm audit` <span class=\"keyword\">for</span> details.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"更改配置文件\"><a href=\"#更改配置文件\" class=\"headerlink\" title=\"更改配置文件\"></a>更改配置文件</h2><p><code>更改_config.yml中的主题配置</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Extensions</span></span><br><span class=\"line\"><span class=\"comment\">## Plugins: https://hexo.io/plugins/</span></span><br><span class=\"line\"><span class=\"comment\">## Themes: https://hexo.io/themes/</span></span><br><span class=\"line\">theme: next</span><br></pre></td></tr></table></figure>\n\n<p><code>更改_config.yml中的Site配置</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Site</span></span><br><span class=\"line\">title: dooubb</span><br><span class=\"line\">subtitle: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">description: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">keywords:</span><br><span class=\"line\">author: dooubb</span><br><span class=\"line\">language: zh-CN</span><br><span class=\"line\">timezone: <span class=\"string\">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>添加git部署配置</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  <span class=\"built_in\">type</span>: git</span><br><span class=\"line\">  ignore_hidden: <span class=\"literal\">false</span> <span class=\"comment\"># 添加这个属性值为false 此配置为了git workflows工作</span></span><br><span class=\"line\">  repo:</span><br><span class=\"line\">    <span class=\"comment\">#gitee: https://gitee.com/dooubb/doc.git,master</span></span><br><span class=\"line\">    github: https://github.com/dooubb/doco.git,master</span><br></pre></td></tr></table></figure>\n\n<p><code>在_config.yml添加字数统计和阅读时长配置</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">symbols_count_time:</span><br><span class=\"line\">  symbols: <span class=\"literal\">true</span></span><br><span class=\"line\">  time: <span class=\"literal\">true</span></span><br><span class=\"line\">  total_symbols: <span class=\"literal\">false</span></span><br><span class=\"line\">  total_time: <span class=\"literal\">false</span></span><br><span class=\"line\">  exclude_codeblock: <span class=\"literal\">false</span></span><br><span class=\"line\">  awl: 4</span><br><span class=\"line\">  wpm: 275</span><br><span class=\"line\">  suffix: <span class=\"string\">&quot;mins.&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"更改主题配置文件\"><a href=\"#更改主题配置文件\" class=\"headerlink\" title=\"更改主题配置文件\"></a>更改主题配置文件</h2><p><code>更改NexT主题下_config.yml配置文件</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Scheme Settings 主题显示样式</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Schemes</span></span><br><span class=\"line\"><span class=\"comment\">#scheme: Muse</span></span><br><span class=\"line\">scheme: Mist</span><br><span class=\"line\"><span class=\"comment\">#scheme: Pisces</span></span><br><span class=\"line\"><span class=\"comment\">#scheme: Gemini</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Post wordcount display settings</span></span><br><span class=\"line\"><span class=\"comment\"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\">symbols_count_time:</span><br><span class=\"line\">  separated_meta: <span class=\"literal\">false</span>     <span class=\"comment\"># 是否另起一行（true的话不和发表时间等同一行）</span></span><br><span class=\"line\">  item_text_post: <span class=\"literal\">false</span>     <span class=\"comment\"># 首页文章统计数量前是否显示文字描述（本文字数、阅读时长）</span></span><br><span class=\"line\"> <span class=\"comment\"># item_text_total: false   # 页面底部统计数量前是否显示文字描述（站点总字数、站点阅读时长）</span></span><br><span class=\"line\">  awl: 4                   <span class=\"comment\"># Average Word Length</span></span><br><span class=\"line\">  wpm: 275                 <span class=\"comment\"># Words Per Minute（每分钟阅读词数）</span></span><br><span class=\"line\">  suffix: mins.</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Site Information Settings 网页小图标</span></span><br><span class=\"line\"><span class=\"comment\"># See: https://theme-next.org/docs/getting-started/</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\">favicon:</span><br><span class=\"line\">  small: /images/qpp.png</span><br><span class=\"line\">  medium: /images/qpp.png</span><br><span class=\"line\">  apple_touch_icon: /images/apple-touch-icon-next.png</span><br><span class=\"line\">  safari_pinned_tab: /images/logo.svg</span><br><span class=\"line\">  <span class=\"comment\">#android_manifest: /images/manifest.json</span></span><br><span class=\"line\">  <span class=\"comment\">#ms_browserconfig: /images/browserconfig.xml</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Sidebar Settings 文章的目录显示位置</span></span><br><span class=\"line\"><span class=\"comment\"># See: https://theme-next.org/docs/theme-settings/sidebar</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\">sidebar:</span><br><span class=\"line\">  <span class=\"comment\"># Sidebar Position.</span></span><br><span class=\"line\">  <span class=\"comment\">#position: left</span></span><br><span class=\"line\">  position: right</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Social Links</span></span><br><span class=\"line\"><span class=\"comment\"># Usage: `Key: permalink || icon`</span></span><br><span class=\"line\"><span class=\"comment\"># Key is the link label showing to end users.</span></span><br><span class=\"line\"><span class=\"comment\"># Value before `||` delimiter is the target permalink, value after `||` delimiter is the name of Font Awesome icon.</span></span><br><span class=\"line\">social:</span><br><span class=\"line\">  GitHub: https://github.com/dooubb  || fab fa-github</span><br><span class=\"line\">  E-Mail: fanq1213@163.com || fa fa-envelope</span><br><span class=\"line\">  </span><br><span class=\"line\">social_icons:</span><br><span class=\"line\">  <span class=\"built_in\">enable</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  icons_only: <span class=\"literal\">false</span></span><br><span class=\"line\">  transition: <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Local Search 本地搜索</span></span><br><span class=\"line\"><span class=\"comment\"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class=\"line\">local_search:</span><br><span class=\"line\">  <span class=\"built_in\">enable</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"comment\"># If auto, trigger search by changing input.</span></span><br><span class=\"line\">  <span class=\"comment\"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class=\"line\">  trigger: auto</span><br><span class=\"line\">  <span class=\"comment\"># Show top n results per article, show all results by setting to -1</span></span><br><span class=\"line\">  top_n_per_article: 1</span><br><span class=\"line\">  <span class=\"comment\"># Unescape html strings to the readable one.</span></span><br><span class=\"line\">  unescape: <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"comment\"># Preload the search data when the page loads.</span></span><br><span class=\"line\">  preload: <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#文章创建时间和更新时间</span></span><br><span class=\"line\"><span class=\"comment\"># Post meta display settings</span></span><br><span class=\"line\">post_meta:</span><br><span class=\"line\">  item_text: <span class=\"literal\">true</span></span><br><span class=\"line\">  created_at: <span class=\"literal\">true</span></span><br><span class=\"line\">  updated_at:</span><br><span class=\"line\">    <span class=\"built_in\">enable</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    another_day: <span class=\"literal\">false</span>  <span class=\"comment\">#如果是true表示同一天只显示创建时间</span></span><br><span class=\"line\">  categories: <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改首页文章标题和统计信息居中\"><a href=\"#修改首页文章标题和统计信息居中\" class=\"headerlink\" title=\"修改首页文章标题和统计信息居中\"></a>修改首页文章标题和统计信息居中</h2><p><code>替换themes/next/source/css/_schemes/Mist/_posts-expanded.styl文件内容</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">// Post Expand</span><br><span class=\"line\">// --------------------------------------------------</span><br><span class=\"line\">.posts-expand &#123;</span><br><span class=\"line\">  &amp;.index &#123;</span><br><span class=\"line\">    .post-title&#123;</span><br><span class=\"line\">      text-align: center; <span class=\"comment\">#文章标题</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    .post-meta &#123;</span><br><span class=\"line\">      text-align: center; <span class=\"comment\">#统计信息</span></span><br><span class=\"line\"></span><br><span class=\"line\">      +<span class=\"function\"><span class=\"title\">mobile</span></span>() &#123;</span><br><span class=\"line\">        text-align: center;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .post-meta &#123;</span><br><span class=\"line\">      margin: 5px 0 20px 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  .post-eof &#123;</span><br><span class=\"line\">    display: none;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  .post-block:not(:first-child) &#123;</span><br><span class=\"line\">    margin-top: 120px;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  .post-title, .post-meta &#123;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  .post-body img &#123;</span><br><span class=\"line\">    margin-left: 0;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  .post-tags &#123;</span><br><span class=\"line\">    text-align: left;</span><br><span class=\"line\"></span><br><span class=\"line\">    a &#123;</span><br><span class=\"line\">      background: <span class=\"variable\">$whitesmoke</span>;</span><br><span class=\"line\">      border-bottom: none;</span><br><span class=\"line\">      padding: 1px 5px;</span><br><span class=\"line\"></span><br><span class=\"line\">      &amp;:hover &#123;</span><br><span class=\"line\">        background: <span class=\"variable\">$grey</span>-light;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  .post-nav &#123;</span><br><span class=\"line\">    margin-top: 40px;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.post-button &#123;</span><br><span class=\"line\">  margin-top: 20px;</span><br><span class=\"line\">  text-align: left;</span><br><span class=\"line\"></span><br><span class=\"line\">  .btn &#123;</span><br><span class=\"line\">    // color: <span class=\"variable\">$grey</span>-dim;</span><br><span class=\"line\">    background: none;</span><br><span class=\"line\">    border: 0;</span><br><span class=\"line\">    border-bottom: 2px solid var(--btn-default-border-color);</span><br><span class=\"line\">    padding: 0;</span><br><span class=\"line\">    transition-property: border;</span><br><span class=\"line\"></span><br><span class=\"line\">    &amp;:hover &#123;</span><br><span class=\"line\">      border-bottom-color: var(--btn-default-hover-border-color);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"添加网站运行时长和备案号\"><a href=\"#添加网站运行时长和备案号\" class=\"headerlink\" title=\"添加网站运行时长和备案号\"></a>添加网站运行时长和备案号</h2><p><code>全部替换themes\\next\\layout\\_partials\\footer.swig文件</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;%- <span class=\"keyword\">if</span> theme.footer.beian.enable %&#125;</span><br><span class=\"line\">  &lt;div class=<span class=\"string\">&quot;beian&quot;</span>&gt;</span><br><span class=\"line\">    &#123;&#123;- next_url(<span class=\"string\">&#x27;https://beian.miit.gov.cn&#x27;</span>, theme.footer.beian.icp + <span class=\"string\">&#x27; &#x27;</span>) &#125;&#125;</span><br><span class=\"line\">    &#123;%- <span class=\"keyword\">if</span> theme.footer.beian.gongan_icon_url %&#125;</span><br><span class=\"line\">      &lt;img src=<span class=\"string\">&quot;&#123;&#123; url_for(theme.footer.beian.gongan_icon_url) &#125;&#125;&quot;</span> style=<span class=\"string\">&quot;display: inline-block;&quot;</span>&gt;</span><br><span class=\"line\">    &#123;%- endif %&#125;</span><br><span class=\"line\">    &#123;%- <span class=\"keyword\">if</span> theme.footer.beian.gongan_id and theme.footer.beian.gongan_num %&#125;</span><br><span class=\"line\">      &#123;&#123;- next_url(<span class=\"string\">&#x27;http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=&#x27;</span> + theme.footer.beian.gongan_id, theme.footer.beian.gongan_num + <span class=\"string\">&#x27; &#x27;</span>) &#125;&#125;</span><br><span class=\"line\">    &#123;%- endif %&#125;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&#123;%- endif %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;div class=<span class=\"string\">&quot;copyright&quot;</span>&gt;</span><br><span class=\"line\">  &#123;%- <span class=\"built_in\">set</span> copyright_year = <span class=\"built_in\">date</span>(null, <span class=\"string\">&#x27;YYYY&#x27;</span>) %&#125;</span><br><span class=\"line\">  &amp;copy; &#123;% <span class=\"keyword\">if</span> theme.footer.since and theme.footer.since != copyright_year %&#125;&#123;&#123; theme.footer.since &#125;&#125; – &#123;% endif %&#125;</span><br><span class=\"line\">  &lt;span itemprop=<span class=\"string\">&quot;copyrightYear&quot;</span>&gt;&#123;&#123; copyright_year &#125;&#125;&lt;/span&gt;</span><br><span class=\"line\">  &lt;span class=<span class=\"string\">&quot;with-love&quot;</span>&gt;</span><br><span class=\"line\">    &lt;i class=<span class=\"string\">&quot;&#123;&#123; theme.footer.icon.name &#125;&#125;&quot;</span>&gt;&lt;/i&gt;</span><br><span class=\"line\">  &lt;/span&gt;</span><br><span class=\"line\">  &lt;span class=<span class=\"string\">&quot;author&quot;</span> itemprop=<span class=\"string\">&quot;copyrightHolder&quot;</span>&gt;&#123;&#123; theme.footer.copyright or author &#125;&#125; &amp;&amp; &lt;span <span class=\"built_in\">id</span>=<span class=\"string\">&quot;sitetime&quot;</span>&gt;&lt;/span&gt;</span><br><span class=\"line\">  &lt;script language=javascript&gt;</span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">siteTime</span></span>()&#123;</span><br><span class=\"line\">\t\twindow.setTimeout(<span class=\"string\">&quot;siteTime()&quot;</span>, 1000);</span><br><span class=\"line\">\t\tvar seconds = 1000;</span><br><span class=\"line\">\t\tvar minutes = seconds * 60;</span><br><span class=\"line\">\t\tvar hours = minutes * 60;</span><br><span class=\"line\">\t\tvar days = hours * 24;</span><br><span class=\"line\">\t\tvar years = days * 365;</span><br><span class=\"line\">\t\tvar today = new Date();</span><br><span class=\"line\">\t\tvar todayYear = today.getFullYear();</span><br><span class=\"line\">\t\tvar todayMonth = today.getMonth()+1;</span><br><span class=\"line\">\t\tvar todayDate = today.getDate();</span><br><span class=\"line\">\t\tvar todayHour = today.getHours();</span><br><span class=\"line\">\t\tvar todayMinute = today.getMinutes();</span><br><span class=\"line\">\t\tvar todaySecond = today.getSeconds();</span><br><span class=\"line\">\t\t/* Date.UTC() -- 返回<span class=\"built_in\">date</span>对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)</span><br><span class=\"line\">\t\tyear - 作为<span class=\"built_in\">date</span>对象的年份，为4位年份值</span><br><span class=\"line\">\t\tmonth - 0-11之间的整数，做为<span class=\"built_in\">date</span>对象的月份</span><br><span class=\"line\">\t\tday - 1-31之间的整数，做为<span class=\"built_in\">date</span>对象的天数</span><br><span class=\"line\">\t\thours - 0(午夜24点)-23之间的整数，做为<span class=\"built_in\">date</span>对象的小时数</span><br><span class=\"line\">\t\tminutes - 0-59之间的整数，做为<span class=\"built_in\">date</span>对象的分钟数</span><br><span class=\"line\">\t\tseconds - 0-59之间的整数，做为<span class=\"built_in\">date</span>对象的秒数</span><br><span class=\"line\">\t\tmicroseconds - 0-999之间的整数，做为<span class=\"built_in\">date</span>对象的毫秒数 */</span><br><span class=\"line\">\t\tvar t1 = Date.UTC(2018,02,13,15,00,00); //北京时间2018-2-13 00:00:00</span><br><span class=\"line\">\t\tvar t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);</span><br><span class=\"line\">\t\tvar diff = t2-t1;</span><br><span class=\"line\">\t\tvar diffYears = Math.floor(diff/years);</span><br><span class=\"line\">\t\tvar diffDays = Math.floor((diff/days)-diffYears*<span class=\"number\">365</span>);</span><br><span class=\"line\">\t\tvar diffHours = Math.floor((diff-(diffYears*<span class=\"number\">365</span>+diffDays)*days)/hours);</span><br><span class=\"line\">\t\tvar diffMinutes = Math.floor((diff-(diffYears*<span class=\"number\">365</span>+diffDays)*days-diffHours*hours)/minutes);</span><br><span class=\"line\">\t\tvar diffSeconds = Math.floor((diff-(diffYears*<span class=\"number\">365</span>+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);</span><br><span class=\"line\">\t\tdocument.getElementById(&quot;sitetime&quot;).innerHTML=&quot; 已运行&quot;+/*diffYears+&quot; 年 &quot;+*/diffDays+&quot; 天 &quot;+diffHours+&quot; 小时 &quot;+diffMinutes+&quot; 分钟 &quot;+diffSeconds+&quot; 秒&quot;;</span><br><span class=\"line\">\t&#125;/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/</span><br><span class=\"line\">\tsiteTime();</span><br><span class=\"line\">&lt;/script&gt;&lt;/span&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;%- if theme.footer.powered %&#125;</span><br><span class=\"line\">  &lt;div class=&quot;powered-by&quot;&gt;</span><br><span class=\"line\">    &#123;%- set next_site = &#x27;https://theme-next.org&#x27; %&#125;</span><br><span class=\"line\">    &#123;%- if theme.scheme !== &#x27;Gemini&#x27; %&#125;</span><br><span class=\"line\">      &#123;%- set next_site = &#x27;https://&#x27; + theme.scheme | lower + &#x27;.theme-next.org&#x27; %&#125;</span><br><span class=\"line\">    &#123;%- endif %&#125;</span><br><span class=\"line\">    &#123;&#123;- __(&#x27;footer.powered&#x27;, next_url(&#x27;https://hexo.io&#x27;, &#x27;Hexo&#x27;, &#123;class: &#x27;theme-link&#x27;&#125;) + &#x27; &amp; &#x27; + next_url(next_site, &#x27;NexT.&#x27; + theme.scheme, &#123;class: &#x27;theme-link&#x27;&#125;)) &#125;&#125;</span><br><span class=\"line\">    &lt;a href=<span class=\"string\">&quot;https://beian.miit.gov.cn/&quot;</span>&gt;京ICP备2022022850号-1&lt;/a&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&#123;%- endif %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;%- <span class=\"keyword\">if</span> theme.add_this_id %&#125;</span><br><span class=\"line\">  &lt;div class=<span class=\"string\">&quot;addthis_inline_share_toolbox&quot;</span>&gt;</span><br><span class=\"line\">    &lt;script src=<span class=\"string\">&quot;//s7.addthis.com/js/300/addthis_widget.js#pubid=&#123;&#123; theme.add_this_id &#125;&#125;&quot;</span> async=<span class=\"string\">&quot;async&quot;</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&#123;%- endif %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&#123;- next_inject(<span class=\"string\">&#x27;footer&#x27;</span>) &#125;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n","categories":["hexo"],"tags":["hexo"]}]